<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 8 - Advanced English Exercises</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            background-color: #f0f2f5;
            color: #1c1e21;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 25px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        header {
            text-align: center;
            border-bottom: 2px solid #007bff;
            padding-bottom: 15px;
            margin-bottom: 25px;
        }
        header h1 {
            color: #007bff;
            margin: 0;
        }
        header p {
            font-size: 1.1em;
            color: #555;
            font-weight: 500;
        }
        .exercise-section {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        .exercise-header {
            background-color: #f7f7f7;
            padding: 15px 20px;
            border-bottom: 1px solid #ddd;
        }
        .exercise-header h2 {
            margin: 0;
            color: #d9534f;
        }
        .exercise-content {
            padding: 20px;
        }
        .question {
            margin-bottom: 20px;
        }
        .question p {
            margin: 0 0 10px 0;
            font-weight: 600;
        }
        .question-instruction {
            font-style: italic;
            color: #555;
            margin-bottom: 10px;
        }
        input[type="text"] {
            width: 95%;
            padding: 10px;
            font-size: 1em;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-family: inherit;
        }
        .check-button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        .check-button:hover {
            background-color: #218838;
        }
        .result-box {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            font-weight: bold;
        }
        .result-box.correct {
            background-color: #e6f7ec;
            border: 1px solid #b7ebc9;
            color: #1e462d;
        }
        .result-box.incorrect {
            background-color: #fdecea;
            border: 1px solid #f5c6cb;
            color: #5a1e22;
        }
        .answer {
            font-weight: bold;
            color: #007bff;
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Grade 8 - Advanced Exercises</h1>
            <p>Bài tập "Cực Khó" (Units 1-3): Viết lại câu, Sửa lỗi sai & Điền từ</p>
        </header>

        <div class="exercise-section">
            <div class="exercise-header">
                <h2>Exercise 1: Sentence Transformation</h2>
            </div>
            <div class="exercise-content">
                <p class="question-instruction">Hoàn thành câu thứ hai sao cho nghĩa không đổi, sử dụng từ gợi ý (nếu có).</p>

                <div class="question" id="q1">
                    <p>1. His meticulous carving of the wood impressed the judges. (<strong>It was...</strong>)</p>
                    <input type="text" id="ans1" placeholder="Viết lại câu của bạn...">
                    <button class="check-button" onclick="checkAnswer('ans1', 'It was his meticulous carving of the wood that impressed the judges.')">Check</button>
                    <div id="res1" class="result-box" style="display:none;"></div>
                </div>

                <div class="question" id="q2">
                    <p>2. She finds it extremely unpleasant to be indoors all day. (<strong>detests</strong>)</p>
                    <input type="text" id="ans2" placeholder="Viết lại câu của bạn...">
                    <button class="check-button" onclick="checkAnswer('ans2', 'She detests being indoors all day.')">Check</button>
                    <div id="res2" class="result-box" style="display:none;"></div>
                </div>

                <div class="question" id="q3">
                    <p>3. As the city expands, the rural tranquility diminishes. (<strong>The more...</strong>)</p>
                    <input type="text" id="ans3" placeholder="Viết lại câu của bạn...">
                    <button class="check-button" onclick="checkAnswer('ans3', 'The more the city expands, the less rural tranquility there is.')">Check</button>
                    <div id="res3" class="result-box" style="display:none;"></div>
                </div>

                <div class="question" id="q4">
                    <p>4. They started harvesting the crops right after the storm ended. (<strong>No sooner...</strong>)</p>
                    <input type="text" id="ans4" placeholder="Viết lại câu của bạn...">
                    <button class="check-button" onclick="checkAnswer('ans4', 'No sooner had the storm ended than they started harvesting the crops.')">Check</button>
                    <div id="res4" class="result-box" style="display:none;"></div>
                </div>
                
                <div class="question" id="q5">
                    <p>5. People report that this organization helped hundreds of marginalized families. (<strong>is reported</strong>)</p>
                    <input type="text" id="ans5" placeholder="Viết lại câu của bạn...">
                    <button class="check-button" onclick="checkAnswer('ans5', 'This organization is reported to have helped hundreds of marginalized families.')">Check</button>
                    <div id="res5" class="result-box" style="display:none;"></div>
                </div>

                <div class="question" id="q6">
                    <p>6. He didn't know about the charity event, so he didn't donate. (<strong>Had...</strong>)</p>
                    <input type="text" id="ans6" placeholder="Viết lại câu của bạn...">
                    <button class="check-button" onclick="checkAnswer('ans6', 'Had he known about the charity event, he would have donated.')">Check</button>
                    <div id="res6" class="result-box" style="display:none;"></div>
                </div>
            </div>
        </div>

        <div class="exercise-section">
            <div class="exercise-header">
                <h2>Exercise 2: Error Correction</h2>
            </div>
            <div class="exercise-content">
                <p class="question-instruction">Tìm và sửa MỘT lỗi sai trong mỗi câu sau. Viết lại toàn bộ câu đúng.</p>

                <div class="question" id="q7">
                    <p>7. I wish I lived in a more picturesque village, but the life here is not as idyllic so I expected.</p>
                    <input type="text" id="ans7" placeholder="Viết lại câu đúng...">
                    <button class="check-button" onclick="checkAnswer('ans7', 'I wish I lived in a more picturesque village, but the life here is not as idyllic as I expected.')">Check</button>
                    <div id="res7" class="result-box" style="display:none;"></div>
                </div>

                <div class="question" id="q8">
                    <p>8. It is said that the philanthropic billionaire will donate a huge sum of money for the community center, hasn't he?</p>
                    <input type="text" id="ans8" placeholder="Viết lại câu đúng...">
                    <button class="check-button" onclick="checkAnswer('ans8', 'It is said that the philanthropic billionaire will donate a huge sum of money for the community center, won\'t he?')">Check</button>
                    <div id="res8" class="result-box" style="display:none;"></div>
                </div>
                
                <div class="question" id="q9">
                    <p>9. The more sedentary their lifestyle becomes, the more unhealthier they get.</p>
                    <input type="text" id="ans9" placeholder="Viết lại câu đúng...">
                    <button class="check-button" onclick="checkAnswer('ans9', 'The more sedentary their lifestyle becomes, the unhealthier they get.')">Check</button>
                    <div id="res9" class="result-box" style="display:none;"></div>
                </div>
            </div>
        </div>

        <div class="exercise-section">
            <div class="exercise-header">
                <h2>Exercise 3: Advanced Gap Filling</h2>
            </div>
            <div class="exercise-content">
                <p class="question-instruction">Hoàn thành các câu sau bằng MỘT từ thích hợp (tập trung vào từ vựng nâng cao và giới từ/liên từ phức tạp).</p>
                <div class="word-bank" style="background: #eef; padding: 10px; border-radius: 5px; margin-bottom: 20px;">
                    <strong>Từ gợi ý (có thể không dùng hết):</strong> altruism, avocation, connoisseur, exacerbated, idyllic, marginalized, meticulous, tranquility
                </div>

                <div class="question" id="q10">
                    <p>10. Despite his busy career as a lawyer, his true ______ was restoring antique furniture.</p>
                    <input type="text" id="ans10" placeholder="Điền 1 từ...">
                    <button class="check-button" onclick="checkAnswer('ans10', 'avocation')">Check</button>
                    <div id="res10" class="result-box" style="display:none;"></div>
                </div>

                <div class="question" id="q11">
                    <p>11. The community project aims to support ______ groups who are often overlooked by society.</p>
                    <input type="text" id="ans11" placeholder="Điền 1 từ...">
                    <button class="check-button" onclick="checkAnswer('ans11', 'marginalized')">Check</button>
                    <div id="res11" class="result-box" style="display:none;"></div>
                </div>

                <div class="question" id="q12">
                    <p>12. The construction of the new factory ______ the pollution problem in what was once an idyllic village.</p>
                    <input type="text" id="ans12" placeholder="Điền 1 từ...">
                    <button class="check-button" onclick="checkAnswer('ans12', 'exacerbated')">Check</button>
                    <div id="res12" class="result-box" style="display:none;"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function checkAnswer(inputId, correctAnswer) {
            var userAnswer = document.getElementById(inputId).value;
            var resultBox = document.getElementById(inputId.replace('ans', 'res'));

            // Chuẩn hóa câu trả lời: bỏ dấu chấm cuối câu, chuyển về chữ thường, bỏ cách thừa
            var normalizedUserAnswer = userAnswer.trim().toLowerCase().replace(/\.$/, '');
            var normalizedCorrectAnswer = correctAnswer.trim().toLowerCase().replace(/\.$/, '');

            if (normalizedUserAnswer === normalizedCorrectAnswer) {
                resultBox.innerHTML = '✅ <strong>Chính xác!</strong>';
                resultBox.className = 'result-box correct';
            } else {
                resultBox.innerHTML = '❌ <strong>Chưa đúng.</strong><br>Đáp án đúng là: <span class="answer">' + correctAnswer + '</span>';
                resultBox.className = 'result-box incorrect';
            }
            resultBox.style.display = 'block';
        }
    </script>

</body>
</html>